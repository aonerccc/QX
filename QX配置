# å»ºè®®åœ¨ã€Œå…¶ä»–è®¾ç½®ã€é‡Œã€ŒGeoLite2ã€çš„ã€Œæ¥æºã€ä½¿ç”¨ä¸‹é¢é“¾æ¥ï¼Œå¹¶å¼€å¯ã€Œè‡ªåŠ¨æ›´æ–°ã€
# https://raw.githubusercontent.com/Loyalsoldier/geoip/release/Country.mmdb
# https://raw.githubusercontent.com/Hackl0us/GeoIP2-CN/release/Country.mmdb

# "reject" ç­–ç•¥ä¼šè¿”å› HTTP çŠ¶æ€ç  404,ä¸é™„å¸¦ä»»ä½•é¢å¤–å†…å®¹
# "reject-200" ç­–ç•¥ä¼šè¿”å› HTTP çŠ¶æ€ç  200,ä¸é™„å¸¦ä»»ä½•é¢å¤–å†…å®¹
# "reject-img" ç­–ç•¥è¿”å› HTTP çŠ¶æ€ç  200,åŒæ—¶é™„å¸¦ 1px gif
# "reject-dict" ç­–ç•¥è¿”å› HTTP çŠ¶æ€ç  200,åŒæ—¶é™„å¸¦ä¸€ä¸ªç©ºçš„ JSON å¯¹è±¡
# "reject-array" ç­–ç•¥è¿”å› HTTP çŠ¶æ€ç  200,åŒæ—¶é™„å¸¦ä¸€ä¸ªç©ºçš„ JSON æ•°ç»„

[general]
# èŠ‚ç‚¹å»¶è¿Ÿæµ‹è¯•
server_check_url=http://cp.cloudflare.com/generate_204
# server_check_url=http://www.google.com/generate_204
# æœåŠ¡å™¨æµ‹è¯•è¶…æ—¶æ—¶é—´ (æ¯«ç§’)
server_check_timeout=2000
# CheckèŠ‚ç‚¹IPåœ°å€
geo_location_checker = http://ip-api.com/json/?lang=zh-CN, https://github.com/Centralmatrix3/Matrix-io/raw/master/QuantumultX/Scripts/IP-API-A.Js
# èµ„æºè§£æå™¨
resource_parser_url=https://raw.githubusercontent.com/KOP-XIAO/QuantumultX/master/Scripts/resource-parser.js
# æ’é™¤è·¯çº¿ï¼Œä¸‹åˆ—è·¯å¾„å°†ä¸ç»è¿‡QuanXçš„å¤„ç†
excluded_routes=239.255.255.250/32, 24.105.30.129/32, 185.60.112.157/32, 185.60.112.158/32, 182.162.132.1/32
# DNSæ’é™¤åˆ—è¡¨
dns_exclusion_list=*.cmpassport.com, *.jegotrip.com.cn, *.icitymobile.mobi, id6.me, *.pingan.com.cn, *.cmbchina.com
# UDPå›é€€ç­–ç•¥
fallback_udp_policy=direct
# UDPä¸¢å¼ƒåˆ—è¡¨
udp_drop_list=443

[dns]
# ç¦ç”¨ç³»ç»ŸDNS/ç¦ç”¨ IPv6
# ä¸ºäº†æé«˜æ€§èƒ½ï¼Œä¼šä½¿ç”¨ä»å½“å‰ç½‘ç»œ(ç³»ç»Ÿ)ä¸­è·å–çš„ DNS æœåŠ¡å™¨(æ‚¨å¯ä»¥ä½¿ç”¨ã€Œno-systemã€ç¦ç”¨æ­¤åŠŸèƒ½ï¼Œä½†è‡³å°‘è¦å¢åŠ ä¸€ä¸ªè‡ªå®šä¹‰çš„ DNS æœåŠ¡å™¨ã€‚
no-system
no-ipv6
# DNS over HTTP/3
prefer-doh3
# æŒ‡å®š dns æœåŠ¡å™¨ï¼Œå¹¶å‘å“åº”é€‰å–æœ€ä¼˜ç»“æœ
server = 223.5.5.5
server = 119.29.29.29
# è‡ªå®šä¹‰ DoH æœåŠ¡å™¨
doh-server = https://doh.pub/dns-query, https://dns.alidns.com/dns-query
# æŒ‡å®šåŸŸåè§£æDNS
server=/*icloud.com/119.29.29.29
server=/*icloud.com.cn/119.29.29.29
server=/*tencent.com/119.29.29.29
server=/*weixin.com/119.29.29.29

[policy]
# directç›´è¿, proxyä»£ç†, rejectæ‹’ç»
# static ç­–ç•¥ç»„ä¸­ï¼Œä½ éœ€è¦æ‰‹åŠ¨é€‰æ‹©æƒ³è¦çš„èŠ‚ç‚¹/ç­–ç•¥ç»„ã€‚
# available ç­–ç•¥ç»„å°†æŒ‰é¡ºåºé€‰æ‹©ä½ åˆ—è¡¨ä¸­ç¬¬ä¸€ä¸ªå¯ç”¨çš„èŠ‚ç‚¹ã€‚
# round-robin ç­–ç•¥ç»„ï¼Œå°†æŒ‰åˆ—è¡¨çš„é¡ºåºè½®æµä½¿ç”¨å…¶ä¸­çš„èŠ‚ç‚¹ã€‚
# url-latency-benchmark å»¶è¿Ÿç­–ç•¥ç»„ï¼Œé€‰å–å»¶è¿Ÿæœ€ä¼˜èŠ‚ç‚¹ã€‚
# dest-hash ç­–ç•¥ç»„ï¼Œéšæœºè´Ÿè½½å‡è¡¡ï¼Œä½†ç›¸åŒåŸŸåèµ°å›ºå®šèŠ‚ç‚¹ã€‚
# ssid ç­–ç•¥ç»„ï¼Œå°†æ ¹æ®ä½ æ‰€è®¾å®šçš„ç½‘ç»œæ¥è‡ªåŠ¨åˆ‡æ¢èŠ‚ç‚¹/ç­–ç•¥ç»„
# img-url å‚æ•°ç”¨äºæŒ‡å®šç­–ç•¥ç»„å›¾æ ‡ï¼Œå¯è¿œç¨‹ï¼Œä¹Ÿå¯æœ¬åœ°/iCloud(Quantumult X/Imagesè·¯å¾„ä¸‹) ï¼ˆ108*108 å¤§å°ï¼‰
# Direct/Proxy/Reject åˆ™åªèƒ½ç”¨æœ¬åœ°å›¾æ ‡ï¼Œåå­—åˆ†åˆ«ä¸º Direct.png, Proxy.png,Reject.png æ”¾ç½®äº Images æ–‡ä»¶å¤¹ä¸‹å³å¯ç”Ÿæ•ˆ (108*108 å¤§å°)

url-latency-benchmark=ä¼˜é€‰, server-tag-regex=^((?!(å®˜ç½‘|æµé‡|åŠ ç¾¤|è®¢é˜…|è·å–|å¯¼èˆª|åˆ·æ–°|é¸¡åœº|æœºåœº|è®¢è´­|è´­ä¹°|å¥—é¤|é‡ç½®|åˆ†äº«|ç½‘å€)).)*$, check-interval=300, tolerance=0, alive-checking=false, img-url=https://raw.githubusercontent.com/Koolson/Qure/master/IconSet/Color/Speedtest.png
static=è‹¹æœæœåŠ¡, ç›´è¿æ¨¡å¼, img-url=https://raw.githubusercontent.com/Koolson/Qure/master/IconSet/Color/Apple.png
static=è°·æ­ŒæœåŠ¡, ä¼˜é€‰, é¦™æ¸¯, ç‹®åŸ, éŸ©å›½, å°æ¹¾, æ—¥æœ¬, ç¾å›½, img-url=https://raw.githubusercontent.com/Koolson/Qure/master/IconSet/Color/Google_Search.png
static=å¾®è½¯æœåŠ¡, ç›´è¿æ¨¡å¼, ä¼˜é€‰, é¦™æ¸¯, ç‹®åŸ, éŸ©å›½, å°æ¹¾, æ—¥æœ¬, ç¾å›½, img-url=https://raw.githubusercontent.com/Koolson/Qure/master/IconSet/Color/Microsoft.png
static=Twitter, ä¼˜é€‰, é¦™æ¸¯, ç‹®åŸ, éŸ©å›½, å°æ¹¾, æ—¥æœ¬, ç¾å›½, img-url=https://raw.githubusercontent.com/Koolson/Qure/master/IconSet/Color/Twitter.png
static=Telegram, ä¼˜é€‰, é¦™æ¸¯, ç‹®åŸ, éŸ©å›½, å°æ¹¾, æ—¥æœ¬, ç¾å›½, img-url=https://raw.githubusercontent.com/Koolson/Qure/master/IconSet/Color/Telegram.png
static=Instagram, ä¼˜é€‰, é¦™æ¸¯, ç‹®åŸ, éŸ©å›½, å°æ¹¾, æ—¥æœ¬, ç¾å›½, img-url=https://raw.githubusercontent.com/Koolson/Qure/master/IconSet/Color/Instagram.png
static=å…œåº•åˆ†æµ, ä¼˜é€‰, é¦™æ¸¯, ç‹®åŸ, éŸ©å›½, å°æ¹¾, æ—¥æœ¬, ç¾å›½, img-url=https://raw.githubusercontent.com/Koolson/Qure/master/IconSet/Color/Final.png
static=ç›´è¿æ¨¡å¼, direct, img-url=https://raw.githubusercontent.com/Koolson/Qure/master/IconSet/Color/Proxy.png
static=æ‹¦æˆªæ¨¡å¼, reject, img-url=https://raw.githubusercontent.com/Koolson/Qure/master/IconSet/Color/Reject.png

url-latency-benchmark=é¦™æ¸¯, server-tag-regex=^(?i)(ğŸ‡­ğŸ‡°|æ¸¯|é¦™æ¸¯|HK|Hong Kong|Hong|HongKong).*$, check-interval=300, tolerance=0, alive-checking=false, img-url=https://raw.githubusercontent.com/Koolson/Qure/master/IconSet/Color/Hong_Kong.png
url-latency-benchmark=ç‹®åŸ, server-tag-regex=^(?i)(ğŸ‡¸ğŸ‡¬|æ–°|å¡|æ–°åŠ å¡|ç‹®åŸ|SG|Singapore).*$, check-interval=300, tolerance=0, alive-checking=false, img-url=https://raw.githubusercontent.com/Koolson/Qure/master/IconSet/Color/Singapore.png
url-latency-benchmark=éŸ©å›½, server-tag-regex=^(?i)(ğŸ‡°ğŸ‡·|éŸ©|éŸ“|éŸ©å›½|éŸ“åœ‹|é¦–å°”|å—æœé²œ|KR|KOR|Korea|South Korea|SouthKorea).*$, check-interval=300, tolerance=0, alive-checking=false, img-url=https://raw.githubusercontent.com/Koolson/Qure/master/IconSet/Color/Korea.png
url-latency-benchmark=å°æ¹¾, server-tag-regex=^(?i)(ğŸ‡¹ğŸ‡¼|ğŸ‡¨ğŸ‡³|å°|å°æ¹¾|å°ç£|TW|Tai|Taiwan).*$, check-interval=300, tolerance=0, alive-checking=false, img-url=https://raw.githubusercontent.com/Koolson/Qure/master/IconSet/Color/China.png
url-latency-benchmark=æ—¥æœ¬, server-tag-regex=^(?i)(ğŸ‡¯ğŸ‡µ|æ—¥|æ—¥æœ¬|å·æ—¥|ä¸œäº¬|å¤§é˜ª|æ³‰æ—¥|åŸ¼ç‰|æ²ªæ—¥|æ·±æ—¥|JP|Japan).*$, check-interval=300, tolerance=0, alive-checking=false, img-url=https://raw.githubusercontent.com/Koolson/Qure/master/IconSet/Color/Japan.png
url-latency-benchmark=ç¾å›½, server-tag-regex=^(?i)(ğŸ‡ºğŸ‡¸|ç¾|ç¾å›½|ç¾åœ‹|æ³¢ç‰¹å…°|è¾¾æ‹‰æ–¯|ä¿„å‹’å†ˆ|å‡¤å‡°åŸ|è´¹åˆ©è’™|ç¡…è°·|æ‹‰æ–¯ç»´åŠ æ–¯|æ´›æ‰çŸ¶|åœ£ä½•å¡|åœ£å…‹æ‹‰æ‹‰|è¥¿é›…å›¾|èŠåŠ å“¥|US|United States|UnitedStates|American).*$, check-interval=300, tolerance=0, alive-checking=false, img-url=https://raw.githubusercontent.com/Koolson/Qure/master/IconSet/Color/United_States.png


# æœ¬åœ°èŠ‚ç‚¹
[server_local]

# è¿œç¨‹èŠ‚ç‚¹
[server_remote]

# è¿œç¨‹åˆ†æµ
[filter_remote]
# è§„åˆ™ä¿®æ­£
https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/QuantumultX/Direct/Direct.list, tag=è§„åˆ™ä¿®æ­£, force-policy=ç›´è¿æ¨¡å¼, update-interval=172800, opt-parser=false, enabled=true
# å¹¿å‘Šæ‹¦æˆª
https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/QuantumultX/Advertising/Advertising.list, tag=å¹¿å‘Šæ‹¦æˆª, force-policy=æ‹¦æˆªæ¨¡å¼, update-interval=172800, opt-parser=false, enabled=true
# ååŠ«æŒ
https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/QuantumultX/Hijacking/Hijacking.list, tag=ååŠ«æŒ, force-policy=æ‹¦æˆªæ¨¡å¼, update-interval=172800, opt-parser=true, inserted-resource=true, enabled=true
# éšç§ä¿æŠ¤
https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/QuantumultX/Privacy/Privacy.list, tag=éšç§ä¿æŠ¤, force-policy=æ‹¦æˆªæ¨¡å¼, update-interval=172800, opt-parser=true, inserted-resource=true, enabled=true
# è‹¹æœæœåŠ¡
https://raw.githubusercontent.com/Centralmatrix3/Scripts/master/QuantumultX/ruleset/Apple.list, tag=è‹¹æœæœåŠ¡, force-policy=è‹¹æœæœåŠ¡, update-interval=172800, opt-parser=false, enabled=true
# è°·æ­ŒæœåŠ¡
https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/QuantumultX/Google/Google.list, tag=è°·æ­ŒæœåŠ¡, force-policy=è°·æ­ŒæœåŠ¡, update-interval=172800, opt-parser=true, enabled=true
# å¾®è½¯æœåŠ¡
https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/QuantumultX/Microsoft/Microsoft.list, tag=å¾®è½¯æœåŠ¡, force-policy=å¾®è½¯æœåŠ¡, update-interval=172800, opt-parser=true, enabled=true
# æ¨ç‰¹åˆ†æµ
https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/QuantumultX/Twitter/Twitter.list, tag=Twitter, force-policy=Twitter, update-interval=172800, opt-parser=true, enabled=true
# ç”µæŠ¥åˆ†æµ
https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/QuantumultX/Telegram/Telegram.list, tag=Telegram, force-policy=Telegram, update-interval=172800, opt-parser=true, enabled=true
# Insåˆ†æµ
https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/QuantumultX/Instagram/Instagram.list, tag=Instagram, force-policy=Instagram, update-interval=172800, opt-parser=true, enabled=true
# å›½å†…åˆé›†
https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/QuantumultX/ChinaMax/ChinaMax.list, tag=å›½å†…åˆé›†, force-policy=ç›´è¿æ¨¡å¼, update-interval=172800, opt-parser=true, enabled=true


# æœ¬åœ°åˆ†æµè§„åˆ™ä¼˜å…ˆè¿œç¨‹
[filter_local]
host-keyword, diyibanzhu, ä¼˜é€‰
host-keyword, kraken.com, é¦™æ¸¯

# è§„åˆ™ä¹‹å¤–
final, å…œåº•åˆ†æµ


# æœ¬åœ°é‡å†™è§„åˆ™
[rewrite_local]


# è¿œç¨‹é‡å†™è§„åˆ™
[rewrite_remote]
# å¼€å±å»å¹¿å‘Š
https://whatshub.top/rewrite/adultra.conf, tag=å¼€å±å¹¿å‘Š, update-interval=172800, opt-parser=false, enabled=true
# spotifyè§£é”
https://raw.githubusercontent.com/app2smile/rules/master/module/spotify.conf, tag=Spotifyè§£é”, update-interval=172800, opt-parser=false, enabled=true
# æ²¹ç®¡å»å¹¿å‘Š
https://raw.githubusercontent.com/Centralmatrix3/Matrix-io/master/QuantumultX/Rewrite/YouTube.snippet, tag=æ²¹ç®¡å»å¹¿å‘Š, update-interval=172800, opt-parser=false, enabled=true
# å°çº¢ä¹¦å»æ°´å°
https://raw.githubusercontent.com/RuCu6/QuanX/main/Rewrites/Cube/xiaohongshu.snippet, tag=å°çº¢ä¹¦å»æ°´å°, update-interval=172800, opt-parser=false, enabled=true
# Bç«™å»å¹¿å‘Š+ 1080p
https://raw.githubusercontent.com/chxm1023/Rewrite/main/Bilibili/Bilibili.conf, tag=Bç«™å»å¹¿å‘Š+ 1080p, update-interval=172800, opt-parser=false, enabled=true
# TFè§£é™¤é™åˆ¶
https://raw.githubusercontent.com/NobyDa/Script/master/Surge/Module/TestFlightDownload.sgmodule, tag=TFè§£é™¤é™åˆ¶, update-interval=172800, opt-parser=true, enabled=true
https://raw.githubusercontent.com/Peng-YM/Sub-Store/master/config/QX.snippet, tag=Sub-Store, update-interval=172800, opt-parser=false, enabled=true
https://raw.githubusercontent.com/chavyleung/scripts/master/box/rewrite/boxjs.rewrite.quanx.conf, tag=Boxjs, update-interval=172800, opt-parser=false, enabled=true


# è„šæœ¬é…ç½®
[task_local]
0 */6 * * ? https://raw.githubusercontent.com/chxm1023/Task/main/dns-clear-cache.js, tag=æ¸…ç†Dnsç¼“å­˜, img-url=https://raw.githubusercontent.com/chxm1023/Task/main/icon/clean.png, enabled=true
0 */6 * * ? https://raw.githubusercontent.com/chavyleung/scripts/master/box/scripts/boxjs.revert.usercfgs.httpbackend.js, tag=Clear, img-url=https://raw.githubusercontent.com/chxm1023/Task/main/icon/clean.png, enabled=true


[http_backend]
# Boxjsè®¾ç½®ï¼Œæ”¹ä¸ºä½¿ç”¨http backendæ–¹å¼ï¼Œè®¿é—®åœ°å€æ”¹ä¸ºhttp://127.0.0.1:9999ï¼Œæ›´æ–°é…ç½®åè¯·é•¿æŒ‰é£è½¦-æ›´æ–°ï¼Œç„¶åé‡å¯ä»£ç†
https://raw.githubusercontent.com/chavyleung/scripts/master/box/chavy.boxjs.js, tag=BoxJs, path=^/, img-url=https://raw.githubusercontent.com/Orz-3/task/master/box.png, enabled=true


[mitm]
# è·³è¿‡è¯ä¹¦éªŒè¯
skip_validating_cert = true
force_sni_domain_name = false

# æ·»åŠ ä¸»æœºå
hostname = -consumer.fcbox.com, -*huami.com, -weather-data.apple.com, -*amemv.com, -*snssdk.co

# passphraseå’Œp12ä»£ä¸ºè¯ä¹¦&ä¸»æœºåéƒ¨åˆ†ï¼Œå¯å»UIç•Œé¢è‡ªè¡Œç”Ÿæˆå¹¶å®‰è£…è¯ä¹¦ï¼Œä¼šåœ¨æ­¤ç”Ÿæˆå¯¹åº”ä¿¡æ¯ï¼Œä¹Ÿå¯åœ¨æ›´æ–°é…ç½®å‰å¯æŠŠæ—§çš„é…ç½®ä¸­passphraseå’Œp12ä»£ç æ‹·è´ä¸‹æ¥, å¯¼å…¥æ–°çš„é…ç½®æ–‡ä»¶æŠŠå†…å®¹ç²˜è´´åœ¨å¯¹åº”ä½ç½®å°±ä¸ç”¨é‡è£…è¯ä¹¦ã€‚
passphrase =
p12 = 
